# AI Crew for Trip Planning

## Introduction
This project leverages the CrewAI framework to automate the process of planning a trip when you're undecided between different options. CrewAI orchestrates autonomous AI agents, enabling them to collaborate and execute complex tasks efficiently.

## Table of Contents
- [CrewAI Framework](#crewai-framework)
- [Running the Script](#running-the-script)
- [Details & Explanation](#details--explanation)
- [Using GPT 3.5](#using-gpt-35)
- [Using Local Models with Ollama](#using-local-models-with-ollama)
- [Contributing](#contributing)
- [Support and Contact](#support-and-contact)
- [License](#license)

## CrewAI Framework
CrewAI is designed to facilitate the collaboration of role-playing AI agents. In this example, these agents work together to choose between different cities and put together a full itinerary for the trip based on your preferences.

## Running the Script
It uses GPT-4 by default so you should have access to that to run it.

***Disclaimer:** This will use gpt-4 unless you changed it not to, and by doing so it will cost you money.*

### Setup Steps

1. **Create a virtual environment**:
   ```bash
   python3.11 -m venv venv
   source venv/bin/activate
   ```

2. **Install Poetry**:
   ```bash
   pip install poetry
   ```

3. **Configure Environment**: Copy `.env.example` and set up the environment variables for [Browseless](https://www.browserless.io/), [Serper](https://serper.dev/) and [OpenAI](https://platform.openai.com/api-keys)

4. **Install Dependencies**: 
   ```bash
   poetry install --no-root
   ```

5. **Execute the Script**: 
   ```bash
   python3 main.py
   ```
   Then input your travel preferences when prompted.

## Details & Explanation
- **Running the Script**: Execute `python main.py` and input your idea when prompted. The script will leverage the CrewAI framework to process your preferences and generate a trip plan.
- **Key Components**:
  - `./main.py`: Main script file.
  - `./trip_tasks.py`: Main file with the tasks prompts.
  - `./trip_agents.py`: Main file with the agents creation.
  - `./tools`: Contains tool classes used by the agents.

## Using GPT 3.5
By default, the project uses GPT-4. If you want to use GPT 3.5 instead, you'll need to modify the agent configuration in `trip_agents.py`.

## Using Local Models with Ollama
This project supports using self-hosted models through Ollama as an alternative to OpenAI models. To use self-hosted models:

1. Access the Azure account and find the Kubernetes cluster named **ollama-llm**
2. Go to the nodepool section and find the `ncpool`. If no nodes are available, scale it to 1 node
3. Connect to the cluster and verify all pods are running in the ollama namespace
4. Port forward the ollama service: `kubectl port-forward svc/ollama 11434:11434 -n ollama`
5. Modify the `trip_agents.py` file:
   ```python
   class TripAgents():
	 def city_selection_agent(self):
	   return Agent(
		   role='City Selection Expert',
		   goal='Select the best city based on weather, season, and prices',
		   backstory='An expert in analyzing travel data to pick ideal destinations',
		   tools=[
			   SearchTools.search_internet,
			   BrowserTools.scrape_and_summarize_website,
		   ],
		   llm=llm,  # Uncomment this line to use the self-hosted model for all agents
		   verbose=True)
   ```
6. Run `python3 main.py` and follow the prompts



**Note:** All logs and itineraries generated by the models have been added to the `Llm` folder for reference.